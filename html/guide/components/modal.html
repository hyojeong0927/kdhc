<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal</title>
    <!-- css -->
    <link rel="stylesheet" href="../../../assets/css/index.css">
    <style>
        /* 공통 레이어 팝업 샘플 */
        .layer-popup {position: fixed; top: 0; left: 0; width: 100%; height: 100%; padding: 20px; background-color: rgba(17, 23, 29, 0.70); visibility: hidden; opacity: 0; z-index: 10000;}
        .layer-popup.on {visibility: visible; opacity: 1; transition: all 0.3s;}
        .layer-popup .popup-inner {display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); max-width: 920px; width: 100%; max-height: 100%; padding: 80px 60px; background-color: #fff; overflow: hidden; overflow-y: auto; animation: fadeInUpLayer 0.3s;}
        .layer-popup.on .popup-inner {display: block;}
        .layer-popup .popup-inner .close-btn {position: absolute; top: 50px; right: 50px; width: 32px; height: 32px; background: transparent url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 26L26 6' stroke='%23333333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M26 26L6 6' stroke='%23333333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A"); border: 0; cursor: pointer; transition: all 0.3s;}
        .layer-popup .popup-inner .close-btn:hover, .layer-popup .popup-inner .close-btn:focus {transform: rotate(180deg);}
        @media (max-width:1280px) {
            .layer-popup .popup-inner {padding: 55px 30px 50px;}
            .layer-popup .popup-inner .close-btn {top: 20px; right: 25px;}
        }
        @keyframes fadeInUpLayer {
            0% {opacity: 0; transform: translate(-50%, -40%);}
            100% {opacity: 1; transform: translate(-50%, -50%);}
        }
    </style>
</head>
<body>
    <article class="guide-contents">
        <div class="title">
			<h3>Modal</h3>
		</div>
        <div class="text-box">
			<ol>
				<li>팝업 사이즈
                    <ul>
                        <li>small: </li>
                        <li>medium: </li>
                        <li>large: </li>
                    </ul>
                </li>
				<li> 여백 규칙
					<ul>
						<li>내부 패딩: 최소 16px</li>
						<li>외부 마진: 최소 24px</li>
					</ul>
				</li>
			</ol>
		</div>
        <div class="cont-box">
            <button data-layer-id="layer_01">small</button>
            <button data-layer-id="layer_02">medium</button>
            <button data-layer-id="layer_03">large</button>
        </div>
    </article>
    <article class="layer-popup" id="layer_01" aria-hidden="true">
        <div class="popup-inner">
            <p>레이어 팝업</p>
            <p>팝업에 대한 내용을 넣고 css는 디자인에 따라서 각 페이지에 커스텀하면 됩니다.</p>
            <p>팝업에 대한 내용을 넣고 css는 디자인에 따라서 각 페이지에 커스텀하면 됩니다.</p>
            <button class="close-btn">Close</button>
        </div>
    </article>
    <article class="layer-popup" id="layer_02">
        <div class="popup-inner">
            <p>레이어 팝업 medium</p>
            <p>팝업에 대한 내용을 넣고 css는 디자인에 따라서 각 페이지에 커스텀하면 됩니다.</p>
            <p>팝업에 대한 내용을 넣고 css는 디자인에 따라서 각 페이지에 커스텀하면 됩니다.</p>
            <button class="close-btn">Close</button>
        </div>
    </article>
    <article class="layer-popup" id="layer_03">
        <div class="popup-inner">
            <p>레이어 팝업 Large</p>
            <p>팝업에 대한 내용을 넣고 css는 디자인에 따라서 각 페이지에 커스텀하면 됩니다.</p>
            <p>팝업에 대한 내용을 넣고 css는 디자인에 따라서 각 페이지에 커스텀하면 됩니다.</p>
            <button class="close-btn">Close</button>
        </div>
    </article>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            initializeLayerPopups(); // Initialize layer popups
        });

        function initializeLayerPopups() {
            const body = document.body;

            // Open layer popup
            body.addEventListener('click', (e) => {
                const openButton = e.target.closest('[data-layer-id]');
                if (!openButton) return;

                e.preventDefault();
                const targetId = openButton.getAttribute('data-layer-id');
                const targetLayer = document.getElementById(targetId);
                if (!targetLayer) return;

                targetLayer.classList.add('on');
                targetLayer.setAttribute('aria-hidden', 'false');
            });

            // Close layer popup
            body.addEventListener('click', (e) => {
                const closeButton = e.target.closest('.close-btn');
                if (closeButton) {
                    e.preventDefault();
                    const targetLayer = closeButton.closest('.layer-popup');
                    if (targetLayer) closeLayerPopup(targetLayer);
                    return;
                }

                const clickedLayer = e.target.closest('.layer-popup');
                if (clickedLayer && e.target === clickedLayer) {
                    closeLayerPopup(clickedLayer);
                }
            });
        }

        function closeLayerPopup(layer) {
            layer.classList.remove('on');
            layer.setAttribute('aria-hidden', 'true');
        }
    </script>
</body>
</html>